extends ../layouts/main

mixin relatedPost(post, className)
    if post
        article(class=`related-post ${className}`)
            a(href=post.href)
                +picture(post.mainImage, {className: 'related-post-image'})
                h2.related-post-heading=`Previous: ${post.town}`


block meta
    title=`${post.town} | Daniel Levett`

block content
    article
        header.site-header
            h1.site-heading=post.town
                span.site-subheading=`${post.country} | ${post.humanDate}`

        each image, i in post.images
            // TODO: Add alt
            a(href=image.srcLarge data-no-instant)
                +picture(image, {className: 'blog-image' + (i === post.images.length - 1 ? ' last' : '')})

        if previousPost || nextPost
            aside.related-posts-wrapper
                h2.section-heading Other places
                div.related-posts-wrapper-inner
                    +relatedPost(previousPost, 'previous-post')
                    +relatedPost(nextPost, 'next-post')
