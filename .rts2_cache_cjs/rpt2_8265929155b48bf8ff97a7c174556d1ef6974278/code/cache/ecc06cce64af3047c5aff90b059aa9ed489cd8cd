{"code":"/*\n * This module fetches pages when hovering over internal links. Since\n * the site has only static content, pages can get away with having a\n * non-zero maxage Cache-Control directive. For example, 60 seconds.\n *\n * The cached page will load quicker if the user decides to click.\n */\nimport { hasExtension, wasRecentlyTouched } from './utils';\nconst init = () => {\n    let lastLink = null;\n    document.addEventListener('mouseover', ({ target }) => {\n        if (wasRecentlyTouched())\n            return;\n        if (!(target instanceof Element))\n            return;\n        const link = target.closest('a');\n        if (link === lastLink) {\n            return;\n        }\n        if (\n        // Element is not a link, and no ancestor link found\n        !link ||\n            // Link is not internal\n            link.hostname !== window.location.hostname ||\n            // Link is not for a html document\n            hasExtension(link.pathname)) {\n            lastLink = null;\n            return;\n        }\n        lastLink = link;\n        window.fetch(link.href);\n    });\n};\nexport default init;\n//# sourceMappingURL=fetchPageOnHover.js.map","map":"{\"version\":3,\"file\":\"fetchPageOnHover.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../publicSrc/scripts/includes/fetchPageOnHover.ts\"],\"names\":[],\"mappings\":\"AAAA;;;;;;GAMG;AAEH,OAAO,EAAE,YAAY,EAAE,kBAAkB,EAAE,MAAM,SAAS,CAAC;AAE3D,MAAM,IAAI,GAAG,GAAG,EAAE;IACjB,IAAI,QAAQ,GAA6B,IAAI,CAAC;IAE9C,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE;QACrD,IAAI,kBAAkB,EAAE;YAAE,OAAO;QACjC,IAAI,CAAC,CAAC,MAAM,YAAY,OAAO,CAAC;YAAE,OAAO;QAEzC,MAAM,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAEjC,IAAI,IAAI,KAAK,QAAQ,EAAE;YACtB,OAAO;SACP;QAED;QACC,oDAAoD;QACpD,CAAC,IAAI;YACL,uBAAuB;YACvB,IAAI,CAAC,QAAQ,KAAK,MAAM,CAAC,QAAQ,CAAC,QAAQ;YAC1C,kCAAkC;YAClC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,EAC1B;YACD,QAAQ,GAAG,IAAI,CAAC;YAChB,OAAO;SACP;QAED,QAAQ,GAAG,IAAI,CAAC;QAEhB,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzB,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,IAAI,CAAC\"}","dts":{"name":"/Users/daniellevett/Projects/dlevs.com/publicSrc/scripts/includes/fetchPageOnHover.d.ts","writeByteOrderMark":false,"text":"declare const init: () => void;\nexport default init;\n"}}
